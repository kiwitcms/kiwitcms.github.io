<!doctype html>
<html>
    <head>
        <meta charset="UTF-8">
        <title>Kiwi TCMS - Kiwi TCMS &amp; tcms-api version 4.0.0</title>
        <meta name="viewport" content="width=device-width,initial-scale=1">
    


        <meta name="description" content="updated XML-RPC interface and API client" >

        <meta name="author" content="Kiwi TCMS Team">

        <meta name="tags" content="releases" >
        <meta name="twitter:site" content="@KiwiTCMS">
        <meta name="twitter:title" content="Kiwi TCMS &amp; tcms-api version 4.0.0">
            <meta name="twitter:description" content="updated XML-RPC interface and API client">
        <meta name="twitter:card" content="summary_large_image">
                <meta property="twitter:image" content="https://kiwitcms.org/images/kiwi_v400.jpg">

        <meta property="og:site_name" content="Kiwi TCMS">
        <meta property="og:type" content="article" />
            <meta property="article:author" content="https://kiwitcms.org/blog/kiwi-tcms-team/" />
        <meta property="og:url" content="https://kiwitcms.org/blog/kiwi-tcms-team/2018/02/10/kiwi-tcms-tcms-api-version-400/" />
        <meta property="og:title" content="Kiwi TCMS &amp; tcms-api version 4.0.0" />
        <meta property="article:published_time" content="2018-02-10 15:30:00+02:00">
            <meta property="og:description" content="updated XML-RPC interface and API client">

                <meta property="og:image" content="https://kiwitcms.org/images/kiwi_v400.jpg">
        <!-- Custom Styles -->
        <link href="/theme/style/style.css" rel="stylesheet">
        <link href="/theme/style/responsive-1440.css" rel="stylesheet">
        <link href="/theme/style/responsive-1024.css" rel="stylesheet">
        <link href="/theme/style/responsive-768.css" rel="stylesheet">
        <link href="/theme/style/responsive-micro.css" rel="stylesheet">
        <link href="/theme/style/github.css" rel="stylesheet">
        <script
            id="fsc-api"
            src="https://d1f8f9xcsvx3ha.cloudfront.net/sbl/0.8.5/fastspring-builder.min.js"
            type="text/javascript"
            data-storefront="mrsenko.onfastspring.com/popup-kiwitcms">
        </script>
    </head>
    <body class="">

        <nav id="main-nav">
            <a href="/" style="display:inherit;">
                <img src="/theme/images/Kiwi-TCMS-logo-header.svg" alt="Kiwi TCMS Logo">
            </a>
            <i class="las la-bars" title="Open menu" onclick="toggle('hidden-menu', 'visible')" style="align-self: center;"></i>
            <ul class="hidden-menu" id="hidden-menu">
                <a href="/">
                    <img src="/theme/images/Kiwi-TCMS-logo-header.svg" alt="Kiwi TCMS Logo">
                </a>
                <i class="las la-times" title="Close" onclick="toggle('hidden-menu', 'visible')"></i>
<li>
    <a href="/features/" >Features</a>
</li>
<li>
    <a href="http://kiwitcms.readthedocs.io"">Documentation</a>
</li>
<li>
    <a href="/community/" >Community</a>
</li>
<li>
    <a href="/support/" >Support</a>
</li>
<li>
    <a href="/blog/" class="active">Blog</a>
</li>
<li>
    <a href="/team/" >Team</a>
</li>            </ul>

            <ul>
<li>
    <a href="/features/" >Features</a>
</li>
<li>
    <a href="http://kiwitcms.readthedocs.io"">Documentation</a>
</li>
<li>
    <a href="/community/" >Community</a>
</li>
<li>
    <a href="/support/" >Support</a>
</li>
<li>
    <a href="/blog/" class="active">Blog</a>
</li>
<li>
    <a href="/team/" >Team</a>
</li>                <li>
                    <div class="drop-btn" id="nav-drop"
                        onmouseenter="toggle('nav-drop','drop-down');"
                        onmouseleave="toggle('nav-drop','drop-down');"
                    >
                        <div class="btn" icon>Get Started <i></i></div>
                        <!-- WARNING: this menu needs to be copied everywhere where we have this
                            button b/c Pelican doesn't support includes from HTML content files:
                            https://github.com/getpelican/pelican/issues/2783
                        -->
                        <div class="drop-cnt">
                            <a href="https://public.tenant.kiwitcms.org">Explore latest version</a>
                            <a href="/#subscriptions">Explore subscriptions</a>
                            <a href="https://kiwitcms.readthedocs.io/en/latest/installing_docker.html">Run as Docker container</a>
                            <a href="https://github.com/marketplace/kiwi-tcms/">Integration with GitHub</a>
                        </div>
                    </div>
                </li>
            </ul>
        </nav>

        <!-- content -->
    <section id="blog-article">
        <h1 class="top-header">Kiwi TCMS &amp; tcms-api version 4.0.0</h1>
        <h2 class="top-subheader">updated XML-RPC interface and API client</h2>

        <p class="post-meta">
            Posted by
                <a href="https://kiwitcms.org/blog/kiwi-tcms-team/">Kiwi TCMS Team</a>
            on Sat 10 February 2018
                under
                    <a href="https://kiwitcms.org/blog/tags/releases/">releases</a>
        </p>

        <article class="content">
            <p>We're happy to announce Kiwi TCMS version 4.0.0
and the corresponding tcms-api version 4.0.0! This is a very big release
which introduces tons of backwards incompatible changes to the RPC layer
as well as several bug-fixes and enhancements!</p>
<p>With this release Kiwi TCMS meets one of our
<a href="/blog/kiwi-tcms-team/2018/01/22/kiwi-tcms-roadmap-for-2018/">milestones for 2018</a>! All XML-RPC
namespaces now match DB model names and the API client class names. Lots of
similar and duplicate methods were removed and existing ones were simplified.
We've also reduced code duplication and technical debth by 1 month
according to stats by <a href="https://codeclimate.com/github/kiwitcms/Kiwi">CodeClimate</a>.</p>
<p><strong>IMPORTANT:</strong> this is also the first release to officially publish the
<code>kiwitcms/kiwi</code> image on Docker Hub!</p>
<p><strong>WARNING:</strong> upgrading to Kiwi TCMS 4.0.0 means you will have to upgrade
the tcms-api client as well. None of the 4.x releases is compatible with
older releases due to the massive ammount of changes in the RPC layer.</p>
<h2>Changes since Kiwi TCMS 3.50</h2>
<h3>Enhancements and bug fixes</h3>
<ul>
<li>Upgrade to Django 2.0.2 which patches a security issue</li>
<li>Pin JIRA client version to 1.0.10. Fixes
  <a href="https://github.com/kiwitcms/Kiwi/issues/195">Issue #195</a></li>
<li>Generate api-docs for model classes</li>
<li>Updated documentation for all RPC methods</li>
<li>Use Grappelli jQuery initialization, fixes popup windows</li>
<li>Unify RPC namespaces, API client class names and server-side model names.
  Fixes <a href="https://github.com/kiwitcms/Kiwi/issues/153">Issue #153</a></li>
</ul>
<h3>Settings</h3>
<ul>
<li>Remove <code>ADMIN_PREFIX</code> setting</li>
</ul>
<h3>RPC methods refactoring</h3>
<ul>
<li>Remove <code>Build.check_build</code>, use <code>Build.filter</code></li>
<li>Remove <code>Build.get</code>, use <code>Build.filter</code></li>
<li>Remove <code>Build.get_caseruns</code>, use <code>TestCaseRun.filter</code></li>
<li>
<p>Remove <code>Build.get_runs</code>, use <code>TestRun.filter</code></p>
</li>
<li>
<p>Rename <code>Env.filter_groups</code>, use <code>Env.Group.filter</code></p>
</li>
<li>Rename <code>Env.filter_properties</code>, use <code>Env.Property.filter</code></li>
<li>
<p>Rename <code>Env.filter_values</code>, use <code>Env.Value.filter</code></p>
</li>
<li>
<p>Remove <code>Product.add_component</code>, use <code>Component.create</code></p>
</li>
<li>Remove <code>Product.add_version</code>, use <code>Version.create</code></li>
<li>Remove <code>Product.check_category</code>, use <code>Category.filter</code></li>
<li>Remove <code>Product.check_component</code>, use <code>Component.filter</code></li>
<li>Remove <code>Product.check_product</code>, use <code>Product.filter</code></li>
<li>Remove <code>Product.filter_categories</code>, use <code>Category.filter</code></li>
<li>Remove <code>Product.filter_components</code>, use <code>Component.filter</code></li>
<li>Remove <code>Product.filter_versions</code>, use <code>Version.filter</code></li>
<li>Remove <code>Product.get</code>, use <code>Product.filter</code></li>
<li>Remove <code>Product.get_builds</code>, use <code>Build.filter</code></li>
<li>Remove <code>Product.get_cases</code>, use <code>TestCase.filter</code></li>
<li>Remove <code>Product.get_categories</code>, use <code>Category.filter</code></li>
<li>Remove <code>Product.get_category</code>, use <code>Category.filter</code></li>
<li>Remove <code>Product.get_component</code>, use <code>Component.filter</code></li>
<li>
<p>Remove <code>Product.update_component</code>, use <code>Component.update</code></p>
</li>
<li>
<p>Rename <code>Tag.get_tags</code> to <code>Tag.filter</code></p>
</li>
<li>
<p>Remove <code>TestCase.add_comment</code></p>
</li>
<li>Update signature for <code>TestCase.add_component</code></li>
<li>Update signature for <code>TestCase.add_tag</code></li>
<li>Remove <code>TestCase.add_to_run</code>, use <code>TestRun.add_case</code></li>
<li>Remove <code>TestCase.attach_bug</code>, use <code>Bug.create</code></li>
<li>Remove <code>TestCase.calculate_average_estimated_time</code></li>
<li>Remove <code>TestCase.calculate_total_estimated_time</code></li>
<li>Remove <code>TestCase.check_case_status</code>, use <code>TestCaseStatus.filter</code></li>
<li>Remove <code>TestCase.check_priority</code>, use <code>Priority.filter</code></li>
<li>Update signature for <code>TestCase.create</code>, no longer accepts <code>plan</code>,
  <code>component</code> and <code>bug</code> dict attributes. Instead use 
  <code>TestPlan.add_case</code>, <code>TestCase.add_component</code> and <code>Bug.create</code></li>
<li>Remove <code>TestCase.detach_bug</code>, use <code>Bug.remove</code></li>
<li>Remove <code>TestCase.filter_count</code></li>
<li>Remove <code>TestCase.get</code>, use <code>TestCase.filter</code></li>
<li>Remove <code>TestCase.get_bugs</code>, use <code>Bug.filter({'case': ?})</code></li>
<li>Remove <code>TestCase.get_bug_systems</code></li>
<li>Remove <code>TestCase.get_case_status</code>, use <code>TestCaseStatus.filter</code></li>
<li>Update signature for <code>TestCase.get_components</code></li>
<li>Remove <code>TestCase.get_plans</code>, use <code>TestPlan.filter({'case': ?})</code></li>
<li>Remove <code>TestCase.get_priority</code>, use <code>Priority.filter</code></li>
<li>Remove <code>TestCase.get_tags</code>, use <code>Tag.filter({'case': ?})</code></li>
<li>Remove <code>TestCase.get_text</code>, use <code>TestCase.filter</code></li>
<li>Remove <code>TestCase.link_plan</code>, use <code>TestPlan.add_case</code></li>
<li>Rename <code>TestCase.notification_add_cc</code> to <code>TestCase.add_notification_cc</code>
  and update signature</li>
<li>Rename <code>TestCase.notification_get_cc_list</code> to <code>TestCase.get_notification_cc</code>
  and update signature</li>
<li>Rename <code>TestCase.notification_remove_cc</code> to <code>TestCase.remove_notification_cc</code>
  and update signature</li>
<li>Update signature for <code>TestCase.remove_component</code></li>
<li>Update signature for <code>TestCase.remove_tag</code></li>
<li>Remove <code>TestCase.store_text</code>, use <code>TestCase.update</code> with
  <code>setup</code>, <code>breakdown</code>, <code>action</code> and <code>effect</code> attributes in the parameter dict</li>
<li>
<p>Remove <code>TestCase.unlink_plan</code>, use <code>TestPlan.remove_case</code></p>
</li>
<li>
<p>Remove <code>TestCasePlan.get</code></p>
</li>
<li>
<p>Remove <code>TestCasePlan.update</code></p>
</li>
<li>
<p>Update <code>TestCaseRun.add_comment</code> to accept a single ID as first parameter</p>
</li>
<li>Remove <code>TestCaseRun.attach_bug</code>, use <code>Bug.create</code></li>
<li>Rename <code>TestCaseRun.attach_log</code> to <code>TestCaseRun.add_log</code></li>
<li>Remove <code>TestCaseRun.detach_bug</code>, use <code>Bug.remove</code></li>
<li>Rename <code>TestCaseRun.detach_log</code> to <code>TestCaseRun.remove_log</code></li>
<li>Remove <code>TestCaseRun.get</code>, use <code>TestCaseRun.filter</code></li>
<li>Remove <code>TestCaseRun.get_bugs</code>, use <code>Bug.filter({'case_run': ?})</code></li>
<li>Remove <code>TestCaseRun.get_case_run_status_by_name</code></li>
<li>
<p>Update signature for <code>TestCaseRun.update</code></p>
</li>
<li>
<p>Remove <code>TestPlan.add_component</code></p>
</li>
<li>Update signature for <code>TestPlan.add_tag</code></li>
<li>Remove <code>TestPlan.check_plan_type</code>, use <code>PlanType.filter</code></li>
<li>Remove <code>TestPlan.filter_count</code></li>
<li>Remove <code>TestPlan.get</code>, use <code>TestPlan.filter</code></li>
<li>Remove <code>TestPlan.get_all_cases_tags</code></li>
<li>Remove <code>TestPlan.get_components</code></li>
<li>Remove <code>TestPlan.get_env_groups</code>, use <code>Env.Group.filter({'testplan': ?})</code></li>
<li>Remove <code>TestPlan.get_plan_type</code>, use <code>PlanType.filter</code></li>
<li>Remove <code>TestPlan.get_product</code>, use <code>Product.filter({'plan': ?})</code></li>
<li>Remove <code>TestPlan.get_tags</code>, use <code>Tag.filter({'plan': ?})</code></li>
<li>Remove <code>TestPlan.get_test_cases</code>, use <code>TestCase.filter({'plan': ?})</code></li>
<li>Remove <code>TestPlan.get_test_runs</code>, use <code>TestRun.filter({'plan': ?})</code></li>
<li>Remove <code>TestPlan.get_text</code>, use <code>TestPlan.filter</code></li>
<li>Rename <code>TestPlan.link_env_value</code> to <code>TestPlan.add_env_value</code>
  and update signature</li>
<li>Remove <code>TestPlan.remove_component</code></li>
<li>Update signature for <code>TestPlan.remove_tag</code></li>
<li>Remove <code>TestPlan.store_text</code>, use <code>TestPlan.update</code> with
  a <code>text</code> attribute in the parameter values</li>
<li>
<p>Rename <code>TestPlan.unlink_env_value</code> to <code>TestPlan.remove_env_value</code>
  and update signature</p>
</li>
<li>
<p>Rename <code>TestRun.add_cases</code> to <code>TestRun.add_case</code> and update signature</p>
</li>
<li>Update signature for <code>TestRun.add_tag</code></li>
<li>Update signature for <code>TestRun.create</code>, no longer accepts <code>case</code>
  dict attribute. Instead use <code>TestRun.add_case</code></li>
<li>Remove <code>TestRun.filter_count</code></li>
<li>Remove <code>TestRun.get</code>, use <code>TestRun.filter</code></li>
<li>Remove <code>TestRun.get_bugs</code></li>
<li>Remove <code>TestRun.get_env_values</code>, use <code>Env.Value.filter({'testrun': ?})</code></li>
<li>Remove <code>TestRun.get_tags</code>, use <code>Tag.filter({'run': ?})</code></li>
<li>Rename <code>TestRun.get_test_cases</code> to <code>TestRun.get_cases</code></li>
<li>Remove <code>TestRun.get_test_case_runs</code>, use <code>TestCaseRun.filter({'run': ?})</code></li>
<li>Remove <code>TestRun.get_test_plan</code>, use <code>TestPlan.filter({'run': ?})[0]</code></li>
<li>Rename <code>TestRun.remove_cases</code> to <code>TestRun.remove_case</code> and update signature</li>
<li>Update signature for <code>TestRun.remove_tag</code></li>
<li>
<p>Update signature for <code>TestRun.update</code></p>
</li>
<li>
<p>Rename <code>User.get</code> to <code>User.filter</code></p>
</li>
<li>Rename <code>User.join</code> to <code>User.join_group</code></li>
<li>Update signature for <code>User.update</code></li>
</ul>
<h3>Models and database migrations</h3>
<ul>
<li>Remove model <code>TestEnvironment</code></li>
<li>Remove model <code>TestEnvironmentCategory</code></li>
<li>Remove model <code>TestEnvironmentElement</code></li>
<li>Remove model <code>TestEnvironmentMap</code></li>
<li>Remove model <code>TestEnvironmentProperty</code></li>
<li>Remove model <code>TestPlanComponent</code></li>
<li>Remove <code>TestPlan.get_text_with_version()</code></li>
<li>Remove <code>TestRun.get_previous_or_next()</code></li>
</ul>
<p><strong>IMPORTANT:</strong> this release introduces new database migrations!</p>
<h2>tcms-api changes since 1.5.1</h2>
<ul>
<li><strong>Make the code compatible with Kiwi TCMS XML-RPC v4.0.0</strong></li>
<li>Rename <code>Status</code> to <code>TestCaseRunStatus</code></li>
<li>Rename <code>CaseRun</code> to <code>TestCaseRun</code></li>
<li>Remove <code>PlanStatus</code>, use <code>TestPlan.is_active</code></li>
<li>Remove <code>RunStatus</code>, use <code>TestRun.finished</code></li>
<li>Remove <code>TestPlan.components</code> container</li>
<li>Update signature for <code>TestPlan</code>. Now accept <code>text</code> kwarg in constructor
  instead of <code>document</code>.</li>
</ul>
<h2>How to upgrade</h2>
<p>If you are using Kiwi TCMS as a Docker container then</p>
<div class="highlight"><pre><span></span><code>cd Kiwi/
docker-compose down
docker pull kiwitcms/kiwi
docker-compose up -d
docker exec -it kiwi_web /Kiwi/manage.py migrate
</code></pre></div>


<p>Happy testing!</p>
        </article>
    </section>

    <section class="after-content">
        <!-- Social Sharing Buttons -->
        <script type="text/javascript" src="//s7.addthis.com/js/300/addthis_widget.js#pubid=ra-5a8aeaec2954eb1b"></script>
        <div class="addthis_inline_share_toolbox"></div>
    </section>

    <section class="after-content">
        <div id="disqus_thread"></div>
        <script>
            var disqus_config = function () {
                this.page.url = 'https://kiwitcms.org/blog/kiwi-tcms-team/2018/02/10/kiwi-tcms-tcms-api-version-400/';
                this.page.identifier = 'blog/kiwi-tcms-team/2018/02/10/kiwi-tcms-tcms-api-version-400/';
            };
            (function() { // DON'T EDIT BELOW THIS LINE
                var d = document, s = d.createElement('script');
                s.src = 'https://kiwitcms.disqus.com/embed.js';
                s.setAttribute('data-timestamp', +new Date());
                (d.head || d.body).appendChild(s);
            })();
        </script>
        <noscript>Please enable JavaScript to view the comments</noscript>
    </section>

        <footer>
            <img src="/theme/images/Kiwi-TCMS-logo-footer.svg" alt="">
            <div class="legal">
                <p>Kiwi TCMS is collecting donations via <a href="https://opencollective.com/kiwitcms">Open Collective</a>.</p>
                <p>Except where otherwise noted, content on this site is licensed under a
                    <a href="https://creativecommons.org/licenses/by/4.0/">Creative Commons Attribution 4.0 International license.</a>
                </p>
                <p><a href="/legal/">Legal information</a></p>
            </div>
            <div class="footer-block fl-gh">
                <i></i>
                <h3>Contribute</h3>
                <a href="https://github.com/kiwitcms/Kiwi">/kiwitcms</a>
            </div>

            <div class="footer-block fl-tw">
                <i></i>
                <h3>Follow</h3>
                <a href="https://twitter.com/KiwiTCMS">@KiwiTCMS</a>
            </div>
            <div class="footer-block fl-yt">
                <i></i>
                <h3>Watch</h3>
                <a href="https://www.youtube.com/channel/UCC0KsZRFkF8nhPnES8G-KYw/videos">Kiwi TCMS</a>
            </div>
            <div class="footer-block fl-fb">
                <i></i>
                <h3>Join</h3>
                <a href="https://www.reddit.com/r/KiwiTCMS/">r/KiwiTCMS</a>
            </div>

            <div class="footer-block mail">
                <i></i>
                <h3>Join our newsletter.</h3>
                <p>Project news only, GDPR compliant.</p>
                <a href="https://kiwitcms.us17.list-manage.com/subscribe/post?u=9b57a21155a3b7c655ae8f922&amp;id=c970a37581" class="btn ghost-btn">Sign me up</a>
            </div>
        </footer>

        <script type="text/javascript" src="/theme/scripts/toggle.js"></script>



            <!-- Google analytics -->
            <script async src="https://www.googletagmanager.com/gtag/js?id=G-SJWW55DFKC"></script>
            <script>
                window.dataLayer = window.dataLayer || [];
                function gtag(){
                    dataLayer.push(arguments);
                }
                gtag('js', new Date());
                gtag('config', 'G-SJWW55DFKC');
            </script>
    </body>
</html>