<!doctype html>
<html>
    <head>
        <meta charset="UTF-8">
        <title>Kiwi TCMS - Kiwi TCMS version 3.49</title>
        <meta name="viewport" content="width=device-width,initial-scale=1">
        <meta http-equiv="X-Frame-Options" content="deny">
        <meta http-equiv="Content-Security-Policy" content="frame-ancestors 'none'">
        <script>
            if (top != window) {
                top.location = window.location;
            }
        </script>
    


        <meta name="description" content="Django 2.0.1 and many XML-RPC updates" >

        <meta name="author" content="Kiwi TCMS Team">

        <meta name="tags" content="releases" >
        <meta name="twitter:site" content="@KiwiTCMS">
        <meta name="twitter:title" content="Kiwi TCMS version 3.49">
            <meta name="twitter:description" content="Django 2.0.1 and many XML-RPC updates">
        <meta name="twitter:card" content="summary_large_image">
            <meta name="twitter:image" content="https://kiwitcms.org/theme/images/twitter_card.png">

        <meta property="og:site_name" content="Kiwi TCMS">
        <meta property="og:type" content="article" />
            <meta property="article:author" content="https://kiwitcms.org/blog/kiwi-tcms-team/" />
        <meta property="og:url" content="https://kiwitcms.org/blog/kiwi-tcms-team/2018/01/02/kiwi-tcms-version-349/" />
        <meta property="og:title" content="Kiwi TCMS version 3.49" />
        <meta property="article:published_time" content="2018-01-02 15:30:00+02:00">
            <meta property="og:description" content="Django 2.0.1 and many XML-RPC updates">

            <meta property="og:image" content="https://kiwitcms.org/theme/images/og_image.png">
        <!-- Custom Styles -->
        <link href="/theme/style/style.css" rel="stylesheet">
        <link href="/theme/style/responsive-1440.css" rel="stylesheet">
        <link href="/theme/style/responsive-1024.css" rel="stylesheet">
        <link href="/theme/style/responsive-768.css" rel="stylesheet">
        <link href="/theme/style/responsive-micro.css" rel="stylesheet">
        <link href="/theme/style/github.css" rel="stylesheet">

        <script defer data-domain="kiwitcms.org" src="https://plausible.io/js/script.js"></script>

        <script
            id="fsc-api"
            src="https://d1f8f9xcsvx3ha.cloudfront.net/sbl/0.8.5/fastspring-builder.min.js"
            type="text/javascript"
            data-storefront="mrsenko.onfastspring.com/popup-kiwitcms">
        </script>
    </head>
    <body class="">

        <nav id="main-nav">
            <a href="/" style="display:inherit;">
                <img src="/theme/images/Kiwi-TCMS-logo-header.svg" alt="Kiwi TCMS Logo">
            </a>
            <i class="las la-bars" title="Open menu" onclick="toggle('hidden-menu', 'visible')" style="align-self: center;"></i>
            <ul class="hidden-menu" id="hidden-menu">
                <a href="/">
                    <img src="/theme/images/Kiwi-TCMS-logo-header.svg" alt="Kiwi TCMS Logo">
                </a>
                <i class="las la-times" title="Close" onclick="toggle('hidden-menu', 'visible')"></i>
<li>
    <a href="/features/" >Features</a>
</li>
<li>
    <a href="http://kiwitcms.readthedocs.io"">Documentation</a>
</li>
<li>
    <a href="/community/" >Community</a>
</li>
<li>
    <a href="/support/" >Support</a>
</li>
<li>
    <a href="/blog/" class="active">Blog</a>
</li>
<li>
    <a href="/team/" >Team</a>
</li>            </ul>

            <ul>
<li>
    <a href="/features/" >Features</a>
</li>
<li>
    <a href="http://kiwitcms.readthedocs.io"">Documentation</a>
</li>
<li>
    <a href="/community/" >Community</a>
</li>
<li>
    <a href="/support/" >Support</a>
</li>
<li>
    <a href="/blog/" class="active">Blog</a>
</li>
<li>
    <a href="/team/" >Team</a>
</li>                <li>
                    <div class="drop-btn" id="nav-drop"
                        onmouseenter="toggle('nav-drop','drop-down');"
                        onmouseleave="toggle('nav-drop','drop-down');"
                    >
                        <div class="btn" icon>Get Started <i></i></div>
                        <!-- WARNING: this menu needs to be copied everywhere where we have this
                            button b/c Pelican doesn't support includes from HTML content files:
                            https://github.com/getpelican/pelican/issues/2783
                        -->
                        <div class="drop-cnt">
                            <a href="https://public.tenant.kiwitcms.org">Explore latest version</a>
                            <a href="/#subscriptions">Explore subscriptions</a>
                            <a href="https://kiwitcms.readthedocs.io/en/latest/installing_docker.html">Run as Docker container</a>
                            <a href="https://github.com/marketplace/kiwi-tcms/">Integration with GitHub</a>
                        </div>
                    </div>
                </li>
            </ul>
        </nav>

        <!-- content -->
    <section id="blog-article">
        <h1 class="top-header">Kiwi TCMS version 3.49</h1>
        <h2 class="top-subheader">Django 2.0.1 and many XML-RPC updates</h2>

        <p class="post-meta">
            Posted by
                <a href="https://kiwitcms.org/blog/kiwi-tcms-team/">Kiwi TCMS Team</a>
            on Tue 02 January 2018
                under
                    <a href="https://kiwitcms.org/blog/tags/releases/">releases</a>
        </p>

        <article class="content">
            <p>Happy New Year to everyone. We're happy to announce Kiwi TCMS version 3.49
and the corresponding tcms-api version 1.5.0! This release includes a fair
amount of bug fixes and many changes related to Kiwi's RPC layer!</p>
<p>Most importantly Kiwi is updated to Django 2.0.1, the API client no longer
supports Python 2 and many RPC methods have been removed or updated.
<a href="https://public.tenant.kiwitcms.org/login/github-app/">https://public.tenant.kiwitcms.org</a>
has also been updated so you can explore the new version.</p>
<h2>Changes since Kiwi TCMS 3.48</h2>
<h3>Enhancements and bug fixes</h3>
<ul>
<li>Upgrade to Django 2.0.1</li>
<li>Don't log passwords sent via RPC</li>
<li>Log XML-RPC requests from anonymous users. Fixes
  <a href="https://github.com/kiwitcms/Kiwi/issues/126">Issue #126</a></li>
<li>Order <code>TCMSEnvValue</code> records by property name and value. Fixes
  <a href="https://github.com/kiwitcms/Kiwi/issues/155">Issue #155</a></li>
<li>flake8 fixes (Anton Sankov)</li>
<li>Start building source code documentation from Python doc strings</li>
<li>Properly urlencode emails in personal menu links</li>
<li>Remove test case import via XML files</li>
<li>Use django-attachments for user uploaded files. Fixes
  <a href="https://github.com/kiwitcms/Kiwi/issues/160">Issue #160</a>
  As part of this change we no longer copy Plan and Case attachments when
  cloning these objects.</li>
</ul>
<p>NOTE: Since django-attachments introduces new permission objects
  you will have to adjust default permissions for existing users!
  In order for them to be able to upload/delete their own files they
  need to have <code>attachments.add_attachment</code> and <code>atachments.delete_attachment</code>
  permissions.</p>
<p>These same permissions are added by default to the 'Tester' group.
  If you are running an existing installation registering a new user
  with Kiwi TCMS will update the default permissions for this group!</p>
<h3>Refactoring</h3>
<ul>
<li>Remove unused class EditCaseNotifyThread (Chenxiong Qi)</li>
<li>Remove model TestPlanActivity  (Chenxiong Qi)</li>
<li>Remove many unused models and classes</li>
<li>Execute tests via <code>manage.py test</code> and drop py.test dependency</li>
<li>Remove useless <code>TestTag.string_to_list</code> method. Fixes
  <a href="https://github.com/kiwitcms/Kiwi/issues/106">Issue #106</a></li>
<li>Use <code>settings.AUTH_USER_MODEL</code> in ForeignKey definitions. Fixes
  <a href="https://github.com/kiwitcms/Kiwi/issues/143">Issue #143</a></li>
</ul>
<h4>Settings</h4>
<ul>
<li>Rename <code>EMAIL_FROM</code> to <code>DEFAULT_FROM_EMAIL</code>. Fixes
  <a href="https://github.com/kiwitcms/Kiwi/issues/128">Issue #128</a></li>
<li>Rename <code>FILE_UPLOAD_DIR</code> to <code>MEDIA_ROOT</code></li>
<li>Rename <code>MAX_UPLOAD_SIZE</code> to <code>FILE_UPLOAD_MAX_SIZE</code></li>
<li>New setting <code>DELETE_ATTACHMENTS_FROM_DISK</code></li>
<li>Remove unused <code>XMLRPC_TEMPLATE</code> and <code>TESTOPIA_XML_VERSION</code></li>
</ul>
<h3>Server side API</h3>
<ul>
<li>Migrate to <code>django-modern-rpc</code> and remove home-grown XML-RPC handling code.
  As part of this change the XML-RPC endpoint has been changed to <code>/xml-rpc/</code>.
  There's also a new JSON-RPC endpoint at <code>/json-rpc/</code>!</li>
<li><code>Auth.login</code> method now accepts positional parameters <code>username, password</code>
  instead of dict</li>
<li><code>TestCaseRun.get</code> method now accepts a query dict as parameter</li>
<li><code>TestCaseRun.get_bugs</code> method now accepts a query dict as parameter</li>
<li>Remove <code>Build.lookup_id_by_name</code>, <code>Build.lookup_name_by_id</code> RPC methods</li>
<li>Remove <code>Product.lookup_name_by_id</code>, <code>Product.lookup_id_by_name</code> RPC methods</li>
<li>Remove <code>Product.get_components</code>, use <code>Product.filter_components</code> instead</li>
<li>Remove <code>Product.get_plans</code>, use <code>TestPlan.filter</code> instead</li>
<li>Remove <code>Product.get_runs</code>, use <code>TestRun.filter</code> instead</li>
<li>Remove <code>Product.get_tag</code>, use <code>Tag.get_tags</code> instead</li>
<li>Remove <code>Product.get_versions</code>, use <code>Product.filter_versions</code> instead</li>
<li>Remove <code>TestCaseRun.filter_count</code>, use <code>TestCaseRun.filter</code> instead</li>
<li>Remove <code>TestCaseRun.get_s</code>, use <code>TestCaseRun.get</code> instead</li>
<li>Remove <code>TestCaseRun.get_bugs_s</code>, use <code>TestCaseRun.get_bugs</code> instead</li>
<li>Remove <code>TestCaseRun.get_case_run_status</code>, use
  <code>TestCaseRun.get_case_run_status_by_name</code> instead</li>
<li>Remove <code>TestCaseRun.get_completion_time</code>, <code>TestCaseRun.get_completion_time_s</code>
  RPC methods. Instead calculate them on the client side</li>
<li>Rename <code>TestCaseRun.check_case_run_status</code> to <code>TestCaseRun.get_case_run_status_by_name</code></li>
<li><code>TestCaseRun.detach_log</code> will not raise exceptions when deleting logs from
  non-existing TestCaseRun objects.</li>
<li>Remove <code>User.get_me</code>, instead use <code>User.get</code> without parameters</li>
<li>Remove <code>Version.</code> and <code>Testopia.</code> RPC modules</li>
<li>Update documentation for RPC methods in <code>Auth</code>, <code>Build</code> and <code>Env</code> namespaces.
  Unformatted documentation is also available for the rest of the RPC methods</li>
</ul>
<h2>tcms-api changes since 1.4.0</h2>
<ul>
<li>Update endpoint configuration, compatible with Kiwi TCMS 3.49</li>
<li>Drop support for Python 2</li>
<li>Remove the internal <code>do_command</code> method which eliminates use of <code>eval()</code></li>
<li>Remove <code>TCMSXmlrpc.get_me()</code> and <code>TCMSXmlrpc.build_get()</code> methods</li>
</ul>
<p><strong>IMPORTANT:</strong> this release introduces new database migrations!</p>
<h2>How to upgrade</h2>
<p>If you are using Kiwi TCMS as a Docker container then</p>
<div class="highlight"><pre><span></span><code>cd Kiwi/
docker-compose down
make docker-image
docker-compose up -d
docker exec -it kiwi_web /Kiwi/manage.py migrate
</code></pre></div>

<p>Happy testing!</p>
        </article>
    </section>

    <section class="after-content">
        <!-- Social Sharing Buttons -->
        <script type="text/javascript" src="//s7.addthis.com/js/300/addthis_widget.js#pubid=ra-5a8aeaec2954eb1b"></script>
        <div class="addthis_inline_share_toolbox"></div>
    </section>

    <section class="after-content">
        <div id="disqus_thread"></div>
        <script>
            var disqus_config = function () {
                this.page.url = 'https://kiwitcms.org/blog/kiwi-tcms-team/2018/01/02/kiwi-tcms-version-349/';
                this.page.identifier = 'blog/kiwi-tcms-team/2018/01/02/kiwi-tcms-version-349/';
            };
            (function() { // DON'T EDIT BELOW THIS LINE
                var d = document, s = d.createElement('script');
                s.src = 'https://kiwitcms.disqus.com/embed.js';
                s.setAttribute('data-timestamp', +new Date());
                (d.head || d.body).appendChild(s);
            })();
        </script>
        <noscript>Please enable JavaScript to view the comments</noscript>
    </section>

        <footer>
            <img src="/theme/images/Kiwi-TCMS-logo-footer.svg" alt="">
            <img referrerpolicy="no-referrer-when-downgrade" src="https://static.scarf.sh/a.png?x-pxid=7386a67a-a689-40df-a268-b03ada69e169" alt="">
            <div class="legal">
                <p>Kiwi TCMS is collecting donations via <a href="https://opencollective.com/kiwitcms">Open Collective</a>.</p>
                <p>Except where otherwise noted, content on this site is licensed under a
                    <a href="https://creativecommons.org/licenses/by/4.0/">Creative Commons Attribution 4.0 International license.</a>
                </p>
                <p>
                    <a href="/legal/">Legal</a> |
                    <a href="/privacy/">Privacy</a> |
                    <a href="/terms/">Terms</a></p>
            </div>
            <div class="footer-block fl-gh">
                <i></i>
                <h3>Contribute</h3>
                <a href="https://github.com/kiwitcms/Kiwi">/kiwitcms</a>
            </div>

            <div class="footer-block fl-tw">
                <i></i>
                <h3>Follow</h3>
                <a href="https://twitter.com/KiwiTCMS">@KiwiTCMS</a>
            </div>
            <div class="footer-block fl-yt">
                <i></i>
                <h3>Watch</h3>
                <a href="https://www.youtube.com/channel/UCC0KsZRFkF8nhPnES8G-KYw/videos">Kiwi TCMS</a>
            </div>
            <div class="footer-block fl-fb">
                <i></i>
                <h3>Join</h3>
                <a href="https://www.reddit.com/r/KiwiTCMS/">r/KiwiTCMS</a>
            </div>

            <div class="footer-block mail">
                <i></i>
                <h3>Join our newsletter.</h3>
                <p>Project news only, GDPR compliant.</p>
                <a href="https://kiwitcms.us17.list-manage.com/subscribe/post?u=9b57a21155a3b7c655ae8f922&amp;id=c970a37581" class="btn ghost-btn">Sign me up</a>
            </div>
        </footer>

        <script type="text/javascript" src="/theme/scripts/toggle.js"></script>


    </body>
</html>