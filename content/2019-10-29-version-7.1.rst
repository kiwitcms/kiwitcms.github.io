Kiwi TCMS 7.1
#############

:headline: improvement release with DB, API and translation changes
:date: 2019-10-29 13:40
:comments: true
:tags: releases


We're happy to announce Kiwi TCMS version 7.1!
This is a small improvement update which includes
database schema and API changes, several other improvements,
internal refactoring and updated translations.
You can explore everything at
`https://public.tenant.kiwitcms.org <https://public.tenant.kiwitcms.org/login/github-app/>`_!


Supported upgrade paths::

    5.3   (or older) -> 5.3.1
    5.3.1 (or newer) -> 6.0.1
    6.0.1            -> 6.1
    6.1              -> 6.1.1
    6.1.1            -> 6.2 (or newer)

Docker images::

    pub.kiwitcms.eu/kiwitcms/kiwi       latest  c8cf36ac5ca5    602 MB
    pub.kiwitcms.eu/kiwitcms/kiwi       6.2     7870085ad415    957 MB
    pub.kiwitcms.eu/kiwitcms/kiwi       6.1.1   49fa42ddfe4d    955 MB
    pub.kiwitcms.eu/kiwitcms/kiwi       6.1     b559123d25b0    970 MB
    pub.kiwitcms.eu/kiwitcms/kiwi       6.0.1   87b24d94197d    970 MB
    pub.kiwitcms.eu/kiwitcms/kiwi       5.3.1   a420465852be    976 MB


Changes since Kiwi TCMS 7.0
---------------------------


Improvements
~~~~~~~~~~~~

- Update django from 2.2.5 to 2.2.6
- Update python-gitlab from 1.11.0 to 1.12.1
- Update pygithub from 1.43.8 to 1.44
- Update psycopg2 from 2.8.3 to 2.8.4
- Add help tooltips in all telemetry pages
- Better styling for checkboxes in 'Add hyperlink' dialog,
  part of TestRun page
- Add hyperlink validation. Fixes
  `Issue #1147 <https://github.com/kiwitcms/Kiwi/issues/1147>`_


Database migrations
~~~~~~~~~~~~~~~~~~~

- Add ``bugs`` permissions to ``Tester`` group. Will make any difference
  only if upgrading from existing installation


API
~~~

- New method ``Bug.remove()``


Bug fixes
~~~~~~~~~

- Always build with the latest versions of translations
- Add 'Delete' menu item in Bugs page. Fixes #1153
  `Issue #1153 <https://github.com/kiwitcms/Kiwi/issues/1154>`_
- When deleting hyperlink from TestExecution hide the actual UI
  elements from the page
- Fix failure to delete TCs when the number of TCs inside TP is greater
  than 100. Fixes
  `Issue #1149 <https://github.com/kiwitcms/Kiwi/issues/1149>`_ and
  `Sentry KIWI-TCMS-8F <https://sentry.io/organizations/open-technologies-bulgaria-ltd/issues/1245504316/>`_


Refactoring
~~~~~~~~~~~

- Rename directory ``xmlrpc`` to ``rpc`` and pylint updates. Refs
  `Issue #682 <https://github.com/kiwitcms/Kiwi/issues/682>`_
  (Matej Aleksandrov, Sinergise)
- Remove labels from form fields, Refs
  `Issue #652 <https://github.com/kiwitcms/Kiwi/issues/652>`_ (Azmi YÃœKSEL)
- New base class for tests around permissions (Svetlomir Balevski)
- New "blueprint" test case around permissions to make testing in this area more
  robust
- Refactor many views from function based to class based
- Update stale tests in ``tcms/core/tests/`` and make sure they aren't ignored
  by the test runner
- Remove empty class ``XMLRPCBaseCaseForm``
- Remove ``XMLRPCNewCaseForm``, duplicate of ``NewCaseForm``
- Remove ``rpc.forms.UpdateCaseForm`` in favor of ``XMLRPCUpdateCaseForm``
- Update only English sources with new strings as a temporary workaround b/c
  Crowdin uses different formatting heuristics than gettext. This will minimize
  the number of .po format changes
- A few pylint fixes


Translations
~~~~~~~~~~~~

- Updated `Albanian translation <https://crowdin.com/project/kiwitcms/sq#>`_ - 97%
- Updated `Bulgarian translation <https://crowdin.com/project/kiwitcms/bg#>`_ - 91%
- Updated `Chinese Simplified <https://crowdin.com/project/kiwitcms/zh-CN#>`_ - 71%
- Updated `Greek translation <https://crowdin.com/project/kiwitcms/el#>`_ - 44%
- Updated `Italian translation <https://crowdin.com/project/kiwitcms/it#>`_ - 97%
- Updated `Japanese translation <https://crowdin.com/project/kiwitcms/ja#>`_ - 0%
- Updated `Macedonian translation <https://crowdin.com/project/kiwitcms/mk#>`_ - 11%
- Updated `Russian translation <https://crowdin.com/project/kiwitcms/ru#>`_ - 97%
- Updated `Slovenian translation <https://crowdin.com/project/kiwitcms/sl#>`_ - 100%
- Updated `Spanish translation <https://crowdin.com/project/kiwitcms/es-ES#>`_ - 96%
- Updated `Turkish translation <https://crowdin.com/project/kiwitcms/tr#>`_ - 97%


Acknowledgments
----------------

A special "thank you" goes to our friends from
`PyCon Balkan <https://pyconbalkan.com/>`_ in Belgrade who allowed us to host
an open source coding sprint in Belgrade during the conference!

A second "thank you" goes to
`Open Labs Hackerspace <https://openlabs.cc/en/>`_ who hosted a localization
sprint in Tirana and contributed to several different languages!

Thank you for being part of our community. Version 7.1 includes all of your
contributions.


Website updates
---------------

We're using the opportunity to share that website is now serving via SSL courtesy
of GitHub and Let's encrypt.

Our main page has also been updated to showcase some of our customers:
Better (Slovenia), Minds, Inc. (USA), Musala Soft (Bulgaria). If you would like to
feature your corporate logo and tell us how you use Kiwi TCMS then
drop us an email!


Upcoming conferences
--------------------

The next two events we are going to participate are:

* `OpenFest, Nov 2-3, Sofia <http://www.openfest.org/>`_
  where we will have an info booth
* `ISTA Conference, Nov 14-15, Sofia <https://www.istacon.org/>`_
  where you can meet with Alex Todorov and some of our contributors and
  customers

If you are around come and say "Happy testing"!


Upcoming FOSDEM 2020
--------------------

We are happy to announce that our team, together with SUSE and Linaro will be
hosting the
`Testing and Automation Developer Room <http://fosdem-testingautomation.github.io/>`_
at FOSDEM in Brussels next February.

Call for papers is open until December 10th 2019. Anything related to
software testing and open source is welcome. Apply from the link above.


How to upgrade
---------------

`Backup <{filename}2018-07-30-docker-backup.markdown>`_ first!
If you are using Kiwi TCMS as a Docker container then::

    cd path/containing/docker-compose/
    docker-compose down
    docker pull pub.kiwitcms.eu/kiwitcms/kiwi
    docker pull centos/mariadb
    docker-compose up -d
    docker exec -it kiwi_web /Kiwi/manage.py migrate

**WHERE:** ``docker-compose.yml`` has been updated from your private git repository!
The file provided in our GitHub repository is an example. Not for production use!

**WARNING:** ``pub.kiwitcms.eu/kiwitcms/kiwi:latest`` and ``docker-compose.yml`` will
always point to the latest available version! If you have to upgrade in steps,
e.g. between several intermediate releases, you have to modify the above workflow::

    # starting from an older Kiwi TCMS version
    docker-compose down
    docker pull pub.kiwitcms.eu/kiwitcms/kiwi:<next_upgrade_version>
    edit docker-compose.yml to use pub.kiwitcms.eu/kiwitcms/kiwi:<next_upgrade_version>
    docker-compose up -d
    docker exec -it kiwi_web /Kiwi/manage.py migrate
    # repeat until you have reached latest

Happy testing!
